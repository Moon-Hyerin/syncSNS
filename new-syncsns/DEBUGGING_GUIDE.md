# 게시글 발행 문제 디버깅 가이드

## 🔍 문제 진단 단계

### 1. 데이터베이스 스키마 확인
```sql
-- fix_database.sql 파일을 Supabase에서 실행하세요
```

### 2. 브라우저 개발자 도구 확인
1. **F12**를 눌러 개발자 도구 열기
2. **Console** 탭에서 에러 메시지 확인
3. **Network** 탭에서 API 호출 상태 확인

### 3. 디버깅 로그 확인
게시글 발행 시도 중 다음 로그들을 확인하세요:

- ✅ 게시글 생성 시도
- ✅ 게시글 생성 응답  
- ✅ 플랫폼별 발행 시도
- ✅ 사용자 인증 성공
- ✅ 게시글 조회 성공
- ✅ 플랫폼 연동 정보 조회 성공
- ✅ 플랫폼별 발행 결과

## 🚨 주요 문제점들

### 1. Twitter 발행 기능
- **현재 상태**: 모의 구현 (실제 발행 안됨)
- **해결 방법**: Twitter API 실제 구현 필요

### 2. Instagram 연동 토큰 문제
- **원인**: 만료된 액세스 토큰
- **해결 방법**: Instagram 계정 재연동

### 3. 플랫폼 연동 상태 불일치
- **원인**: 연동 정보가 없거나 비활성 상태
- **해결 방법**: 연동 상태 확인 및 재연동

## 🔧 즉시 해결 방법

### 1. 데이터베이스 업데이트
```bash
# Supabase에서 fix_database.sql 실행
```

### 2. 브라우저 캐시 및 세션 초기화
```bash
# 브라우저에서 F12 → Application → Storage → Clear all
```

### 3. 서버 재시작
```bash
cd new-syncsns
npm run dev
```

### 4. 소셜 계정 재연동
- Dashboard → 계정 연동 → 각 플랫폼 재연결

## 📋 체크리스트

### 발행 전 확인사항
- [ ] 소셜 계정 연동 상태 확인
- [ ] 게시글 내용 입력 완료
- [ ] Instagram 선택 시 이미지 첨부 확인
- [ ] 플랫폼 선택 완료

### 에러 발생 시 확인사항
- [ ] 브라우저 Console 로그 확인
- [ ] Network 탭에서 API 응답 확인
- [ ] 데이터베이스 스키마 업데이트 완료
- [ ] 서버 재시작 완료

## 🐛 일반적인 에러 메시지

### "게시글을 찾을 수 없습니다"
- **원인**: 게시글 생성 후 조회 실패
- **해결**: 데이터베이스 권한 및 RLS 정책 확인

### "플랫폼 연동 정보를 찾을 수 없습니다"
- **원인**: 소셜 계정 연동 안됨 또는 토큰 만료
- **해결**: 플랫폼 재연동 필요

### "Instagram은 이미지가 필수입니다"
- **원인**: Instagram 선택 시 이미지 미첨부
- **해결**: 이미지 업로드 후 재시도

### "인증 토큰이 필요합니다"
- **원인**: 세션 만료
- **해결**: 재로그인 필요

## 🔄 문제 해결 프로세스

1. **데이터베이스 업데이트** → `fix_database.sql` 실행
2. **서버 재시작** → `npm run dev`
3. **브라우저 캐시 초기화** → F12 → Application → Clear all
4. **소셜 계정 재연동** → 필요한 플랫폼 재연결
5. **게시글 발행 재시도** → 로그 확인하며 진행

## 📞 추가 도움이 필요한 경우

브라우저 개발자 도구의 Console 탭에서 나오는 에러 메시지를 공유해주시면 더 정확한 진단이 가능합니다. 